window.starColor="white",window.starVelocity={x:0,y:0,tx:0,ty:0,z:5e-4};let starSize=6,starMinScale=2.5e-10,overflowThreshold=50,starCount=(window.innerWidth+window.innerHeight)/(-1<navigator.userAgent.indexOf("Firefox")?18:11),canvas=document.querySelector("canvas"),context=canvas.getContext("2d"),scale=.5,stars=[],width,height,pointerX,pointerY,touchInput=!1;for(let i=0;i<starCount;i++)stars.push({x:0,y:0,z:starMinScale+Math.random()*(1-starMinScale)});function updateCanvasSize(){width=window.innerWidth*scale,height=window.innerHeight*scale,canvas.width=width,canvas.height=height,stars.forEach(star=>{star.x=Math.random()*width,star.y=Math.random()*height})}function animateStars(){context.clearRect(0,0,width,height),window.starVelocity.tx*=.86,window.starVelocity.ty*=.86,window.starVelocity.x+=.8*(window.starVelocity.tx-window.starVelocity.x),window.starVelocity.y+=.8*(window.starVelocity.ty-window.starVelocity.y),stars.forEach(star=>{if(star.x+=window.starVelocity.x*star.z,star.y+=window.starVelocity.y*star.z,star.x+=(star.x-width/2)*window.starVelocity.z*star.z,star.y+=(star.y-height/2)*window.starVelocity.z*star.z,star.z+=window.starVelocity.z,star.x<-overflowThreshold||star.x>width+overflowThreshold||star.y<-overflowThreshold||star.y>height+overflowThreshold){let direction="z",vx=Math.abs(window.starVelocity.x),vy=Math.abs(window.starVelocity.y);if(1<vx||1<vy){let axis;axis=vy<vx?Math.random()<vx/(vx+vy)?"h":"v":Math.random()<vy/(vx+vy)?"v":"h",direction="h"===axis?0<window.starVelocity.x?"l":"r":0<window.starVelocity.y?"t":"b"}star.z=starMinScale+Math.random()*(1-starMinScale),"z"===direction?(star.z=.1,star.x=Math.random()*width,star.y=Math.random()*height):"l"===direction?(star.x=-overflowThreshold,star.y=height*Math.random()):"r"===direction?(star.x=width+overflowThreshold,star.y=height*Math.random()):"t"===direction?(star.x=width*Math.random(),star.y=-overflowThreshold):"b"===direction&&(star.x=width*Math.random(),star.y=height+overflowThreshold)}}),stars.forEach(star=>{context.beginPath(),context.lineCap="round",context.lineWidth=starSize*star.z*scale,context.globalAlpha=.5+.5*Math.random(),context.strokeStyle=window.starColor,context.beginPath(),context.moveTo(star.x,star.y);let tailX=2*window.starVelocity.x,tailY=2*window.starVelocity.y;Math.abs(tailX)<.1&&(tailX=.5),Math.abs(tailY)<.1&&(tailY=.5),context.lineTo(star.x+tailX,star.y+tailY),context.stroke()}),requestAnimationFrame(animateStars)}function movePointer(x,y){var ox,oy;"number"==typeof pointerX&&"number"==typeof pointerY&&(ox=x-pointerX,oy=y-pointerY,window.starVelocity.tx=window.starVelocity.tx+ox/8*scale*(touchInput?1:-1),window.starVelocity.ty=window.starVelocity.ty+oy/8*scale*(touchInput?1:-1)),pointerX=x,pointerY=y}updateCanvasSize(),animateStars(),window.onresize=updateCanvasSize,document.onmousemove=event=>{touchInput=!1,movePointer(event.clientX,event.clientY)},document.ontouchmove=event=>{touchInput=!0,movePointer(event.touches[0].clientX,event.touches[0].clientY),event.preventDefault()},document.ontouchend=()=>{pointerX=null,pointerY=null},document.onmouseleave=()=>{pointerX=null,pointerY=null};